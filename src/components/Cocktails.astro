---
import { Image } from "astro:assets";
import leftLeafImage from "../public/images/cocktail-left-leaf.png";
import rightLeafImage from "../public/images/cocktail-right-leaf.png";
import { cocktailLists, mockTailLists } from "../data/navigation";
---

<>
  <section id="cocktails" class="noisy">
    <Image src={leftLeafImage} alt="left-leaf" id="c-left-leaf" />
    <Image src={rightLeafImage} alt="right-leaf" id="c-right-leaf" />
    <div class="list">
      <div class="popular">
        <h2>Most Popular Cocktails</h2>
        <ul>
          {
            cocktailLists.map(({ name, country, detail, price }) => (
              <li>
                <div class="md:me-28">
                  <h3>{name}</h3>
                  <p>
                    {country} | {detail}
                  </p>
                </div>
                <span>- {price}</span>
              </li>
            ))
          }
        </ul>
      </div>
      <div class="loved">
        <h2>Most Loved Mocktails</h2>
        <ul>
          {
            mockTailLists.map(({ name, country, detail, price }) => (
              <li>
                <div class="me-28">
                  <h3>{name}</h3>
                  <p>
                    {country} | {detail}
                  </p>
                </div>
                <span>- {price}</span>
              </li>
            ))
          }
        </ul>
      </div>
    </div>
  </section>

  <script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    // when the animation happens
    const paralaxTimeline = gsap.timeline({
      scrollTrigger: {
        trigger: "#cocktails",
        start: "top 30%",
        end: "bottom 80%",
        scrub: 1,
      },
    });

    // what will be animated
    paralaxTimeline
      .from("#c-left-leaf", {
        x: -100,
        y: 100,
      })
      .from("#c-right-leaf", {
        x: 100,
        y: 100,
      });
  </script>
</>
